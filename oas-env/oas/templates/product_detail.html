{% load static %}
{% include 'header.html' %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ product.title }}</title>
    <link rel="stylesheet" href="{% static 'CSS/prodetail.css' %}"> <!-- Link to your CSS file -->
</head>
<body>


    <div class="inner-banner">
        <div class="container">
          <div class="inner-banner-content">
            <h2
              data-wow-duration="1.5s"
              data-wow-delay=".2s"
              style="
                visibility: visible;
                animation-duration: 1.5s;
                animation-delay: 0.2s;
              "
            >
              <b>{{ product.title }}</b>
            </h2>
          </div>
          <!-- /.inner-banner-content -->
          <div class="inner-banner-img">
            <img src="{% static 'img/breadcrumb.png'%}" alt="" />
          </div>
          <!-- /.inner-banner-img -->
        </div>
        <!-- /.container -->
      </div>
      <!-- /.inner-banner -->



      <div class="card-details">
        <div class="container">
            <div class="product-detail">
                <div class="product-image">
                    <img src="{{ product.image.url }}" alt="{{ product.title }}">
                </div>
                <div class="product-info">
                    <h1>{{ product.title }}</h1>
                    
                    <!-- Tabs -->
                    <div class="tabs">
                        <button class="tablink" onclick="openTab(event, 'Description')" id="defaultOpen">Description</button>
                        <button class="tablink" onclick="openTab(event, 'Reviews')">Reviews ({{ product.reviews.count }})</button>
                    </div>
                    
                    <!-- Tab content -->
                    <div id="Description" class="tabcontent">
                        <p>{{ product.description }}</p>
                        <p>Category: {{ product.category }}</p>
                    </div>
    
                    <div id="Reviews" class="tabcontent">
                        <h2>REVIEWS</h2>
                        {% if product.reviews.count > 0 %}
                            {% for review in product.reviews.all %}
                                <p>{{ review.user.username }}: {{ review.content }}</p>
                            {% endfor %}
                        {% else %}
                            <p>There are no reviews yet.</p>
                        {% endif %}
                        
                        <!-- Input for price -->
                        <form method="POST" action="{% url 'save_price' product.id %}">
                            {% csrf_token %}
                            <label for="price">Enter your price:</label>
                            <input type="number" id="price" name="price" required>
    
                            <!-- Submit button -->
                            <button type="submit" class="btn-submit">Submit Price</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- JavaScript for Tabs -->
    <script>
    function openTab(evt, tabName) {
        var i, tabcontent, tablink;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }
        tablink = document.getElementsByClassName("tablink");
        for (i = 0; i < tablink.length; i++) {
            tablink[i].className = tablink[i].className.replace(" active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " active";
    }
    
    // Open the default tab
    document.getElementById("defaultOpen").click();
    </script>
    






  
                    
           
          








    {% include 'footer.html' %}
</body>
</html>